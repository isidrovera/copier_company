<!-- views/sticker_templates.xml -->
<odoo>
    <!-- Template Base con CSS Variables -->
    <template id="sticker_base_template" name="Sticker Base Template">
        <t t-set="css_vars" t-value="{
            'primary': company.get('color_primary', '#1e40af'),
            'secondary': company.get('color_secondary', '#3b82f6'),
            'accent': '#0ea5e9',
            'text': '#374151',
            'bg': '#ffffff',
            'border': '#e5e7eb'
        }"/>
        
        <t t-set="dimensions" t-value="{
            'horizontal': {'width': '1181px', 'height': '708px'},
            'vertical': {'width': '708px', 'height': '1181px'}
        }"/>
        
        <!DOCTYPE html>
        <html lang="es">
        <head>
            <meta charset="UTF-8"/>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <title>Sticker Corporativo</title>
            <style>
                :root {
                    --primary: <t t-esc="css_vars['primary']"/>;
                    --secondary: <t t-esc="css_vars['secondary']"/>;
                    --accent: <t t-esc="css_vars['accent']"/>;
                    --text: <t t-esc="css_vars['text']"/>;
                    --bg: <t t-esc="css_vars['bg']"/>;
                    --border: <t t-esc="css_vars['border']"/>;
                    --shadow: 0 4px 12px rgba(0,0,0,0.15);
                    --radius: 12px;
                }
                
                *, *::before, *::after {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }
                
                html, body {
                    margin: 0 !important;
                    padding: 0 !important;
                    width: 100% !important;
                    height: 100% !important;
                    overflow: hidden;
                    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                    background: var(--bg);
                    print-color-adjust: exact;
                    -webkit-print-color-adjust: exact;
                }
                
                .sticker {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: <t t-esc="dimensions[layout]['width']"/>;
                    height: <t t-esc="dimensions[layout]['height']"/>;
                    background: var(--bg);
                    border: 3px solid var(--border);
                    border-radius: var(--radius);
                    overflow: hidden;
                    padding: 25px;
                    display: grid;
                    gap: 15px;
                    align-content: start;
                }
                
                /* Layouts específicos */
                <t t-if="layout == 'horizontal'">
                .sticker {
                    grid-template-areas: 
                        "logo logo logo qr"
                        "title title title qr"
                        "support support support qr"
                        "info1 info2 info3 qr"
                        "website website website qr";
                    grid-template-columns: 1fr 1fr 1fr 220px;
                    grid-template-rows: 120px 70px 55px 85px 50px;
                }
                </t>
                
                <t t-if="layout == 'vertical'">
                .sticker {
                    grid-template-areas: 
                        "logo"
                        "title"
                        "support"
                        "modelo"
                        "serie"
                        "correo"
                        "telefono"
                        "qr"
                        "website";
                    grid-template-columns: 1fr;
                    grid-template-rows: 140px 80px 60px auto auto auto auto 200px auto;
                }
                </t>
                
                /* Componentes */
                .logo-section {
                    grid-area: logo;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }
                
                .logo {
                    max-width: 100%;
                    max-height: 100%;
                    object-fit: contain;
                    border-radius: calc(var(--radius) / 2);
                    filter: drop-shadow(var(--shadow));
                }
                
                .logo-fallback {
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    color: white;
                    font-weight: 700;
                    font-size: 36px;
                    text-align: center;
                    width: 280px;
                    height: 100px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: var(--radius);
                    box-shadow: var(--shadow);
                    letter-spacing: 2px;
                }
                
                .title-section {
                    grid-area: title;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                }
                
                .title {
                    font-size: 32px;
                    font-weight: 700;
                    color: var(--primary);
                    text-transform: uppercase;
                    letter-spacing: 1.5px;
                    line-height: 1.2;
                    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                
                .support-section {
                    grid-area: support;
                    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
                    border-left: 6px solid var(--accent);
                    padding: 15px 20px;
                    border-radius: calc(var(--radius) / 2);
                    font-size: 22px;
                    color: var(--text);
                    font-weight: 600;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                }
                
                /* Info items - Layout horizontal */
                .info1 { grid-area: info1; }
                .info2 { grid-area: info2; }
                .info3 { grid-area: info3; }
                
                .info-item {
                    background: linear-gradient(135deg, #f8fafc, #f1f5f9);
                    border-left: 5px solid var(--secondary);
                    border-radius: calc(var(--radius) / 2);
                    padding: 12px 15px;
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
                    transition: all 0.3s ease;
                }
                
                .info-item:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
                
                .info-label {
                    font-size: 18px;
                    font-weight: 700;
                    color: var(--primary);
                    text-transform: uppercase;
                    letter-spacing: 0.8px;
                }
                
                .info-value {
                    font-size: 20px;
                    font-weight: 500;
                    color: var(--text);
                    line-height: 1.4;
                    word-break: break-word;
                }
                
                /* Info rows - Layout vertical */
                .modelo { grid-area: modelo; }
                .serie { grid-area: serie; }
                .correo { grid-area: correo; }
                .telefono { grid-area: telefono; }
                
                .info-row {
                    background: linear-gradient(135deg, #f8fafc, #f1f5f9);
                    border-left: 5px solid var(--secondary);
                    border-radius: calc(var(--radius) / 2);
                    padding: 12px 18px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
                }
                
                .info-row .label {
                    font-size: 18px;
                    font-weight: 700;
                    color: var(--primary);
                    text-transform: uppercase;
                    letter-spacing: 0.8px;
                    min-width: 100px;
                }
                
                .info-row .value {
                    font-size: 20px;
                    font-weight: 500;
                    color: var(--text);
                    flex: 1;
                }
                
                .qr-section {
                    grid-area: qr;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    gap: 12px;
                }
                
                .qr-label {
                    font-size: 18px;
                    font-weight: 700;
                    color: var(--accent);
                    text-transform: uppercase;
                    letter-spacing: 1.2px;
                    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
                }
                
                .qr-code {
                    width: 200px;
                    height: 200px;
                    background: white;
                    border: 4px solid var(--border);
                    border-radius: var(--radius);
                    padding: 10px;
                    box-shadow: var(--shadow);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                
                .qr-code img {
                    width: 100%;
                    height: 100%;
                    border-radius: calc(var(--radius) / 2);
                }
                
                .website-section {
                    grid-area: website;
                    text-align: center;
                    font-size: 22px;
                    color: var(--primary);
                    font-weight: 700;
                    padding: 12px 0;
                    border-top: 3px solid var(--border);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    letter-spacing: 0.5px;
                }
                
                /* Animaciones sutiles */
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.8; }
                }
                
                .qr-label {
                    animation: pulse 2s ease-in-out infinite;
                }
                
                /* Print styles */
                @media print {
                    html, body {
                        margin: 0 !important;
                        padding: 0 !important;
                        width: auto !important;
                        height: auto !important;
                    }
                    
                    .sticker {
                        border: 2px solid var(--border) !important;
                        box-shadow: none !important;
                        margin: 0 !important;
                        padding: 25px !important;
                    }
                    
                    .qr-label {
                        animation: none !important;
                    }
                }
            </style>
        </head>
        <body>
            <t t-call="copier_module.sticker_content"/>
        </body>
        </html>
    </template>

    <!-- Contenido del Sticker -->
    <template id="sticker_content" name="Sticker Content">
        <div class="sticker">
            <!-- Logo -->
            <div class="logo-section">
                <t t-if="logo_base64">
                    <img class="logo" t-att-src="'data:image/png;base64,' + logo_base64" alt="Logo"/>
                </t>
                <t t-else="">
                    <div class="logo-fallback">COPIER COMPANY</div>
                </t>
            </div>
            
            <!-- Título -->
            <div class="title-section">
                <h1 class="title">ALQUILER DE FOTOCOPIADORAS</h1>
            </div>
            
            <!-- Soporte -->
            <div class="support-section">
                Para soporte técnico, escanea el QR o contáctanos:
            </div>
            
            <!-- Información - Layout Vertical -->
            <t t-if="layout == 'vertical'">
                <div class="modelo info-row">
                    <span class="label">Modelo:</span>
                    <span class="value" t-esc="modelo"/>
                </div>
                
                <div class="serie info-row">
                    <span class="label">Serie:</span>
                    <span class="value" t-esc="serie"/>
                </div>
                
                <div class="correo info-row">
                    <span class="label">Correo:</span>
                    <span class="value" t-esc="contact_info['email']"/>
                </div>
                
                <div class="telefono info-row">
                    <span class="label">Teléfono:</span>
                    <span class="value" t-esc="contact_info['phone']"/>
                </div>
            </t>
            
            <!-- Información - Layout Horizontal -->
            <t t-if="layout == 'horizontal'">
                <div class="info1 info-item">
                    <div class="info-label">Modelo</div>
                    <div class="info-value" t-esc="modelo"/>
                </div>
                
                <div class="info2 info-item">
                    <div class="info-label">Serie</div>
                    <div class="info-value" t-esc="serie"/>
                </div>
                
                <div class="info3 info-item">
                    <div class="info-label">Contacto</div>
                    <div class="info-value">
                        <t t-esc="contact_info['email']"/><br/>
                        WhatsApp: <t t-esc="contact_info['phone']"/>
                    </div>
                </div>
            </t>
            
            <!-- QR Section -->
            <div class="qr-section">
                <div class="qr-label">Escanéame</div>
                <div class="qr-code">
                    <t t-if="qr_base64">
                        <img t-att-src="'data:image/png;base64,' + qr_base64" alt="QR Code"/>
                    </t>
                    <t t-else="">
                        <div style="background: #f3f4f6; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 18px; color: #6b7280;">QR</div>
                    </t>
                </div>
            </div>
            
            <!-- Website -->
            <div class="website-section">
                <t t-esc="contact_info['website']"/>
            </div>
        </div>
    </template>

    <!-- Template específico para horizontal -->
    <template id="sticker_horizontal" name="Sticker Horizontal" inherit_id="copier_module.sticker_base_template">
        <xpath expr="//t[@t-set='layout']" position="replace">
            <t t-set="layout" t-value="'horizontal'"/>
        </xpath>
    </template>

    <!-- Template específico para vertical -->
    <template id="sticker_vertical" name="Sticker Vertical" inherit_id="copier_module.sticker_base_template">
        <xpath expr="//t[@t-set='layout']" position="replace">
            <t t-set="layout" t-value="'vertical'"/>
        </xpath>
    </template>
</odoo>