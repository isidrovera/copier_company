<odoo>
  <template id="cloud_storage_template" name="Cloud Storage">
    <t t-call="web.layout">
        <div class="oe_structure"/>
        <div class="container">
            <h1 class="text-center my-4">Cloud Storage</h1>
            
            <!-- Formulario de bÃºsqueda -->
            <div class="row mb-4">
                <div class="col-md-12">
                    <form action="/cloud/storage/search" method="get" class="search-form">
                        <div class="input-group">
                            <input type="text" name="query" placeholder="Search files..." class="form-control"/>
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-secondary">Search</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Lista de archivos/carpetas -->
            <div class="row">
                <div class="col-md-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="files_dirs" t-as="fd">
                                <tr>
                                    <td>
                                        <t t-if="fd['is_dir']">
                                            <i class="fa fa-folder"></i>
                                            <a t-attf-href="/cloud/storage/{{ fd['path'] }}"><t t-esc="fd['name']"/></a>
                                        </t>
                                        <t t-else="">
                                            <i class="fa fa-file"></i>
                                            <t t-esc="fd['name']"/>
                                        </t>
                                    </td>
                                    <td>
                                        <t t-if="not fd['is_dir']">
                                            <a t-attf-href="/cloud/storage/download/{{ fd['path'] }}" class="btn btn-sm btn-primary">
                                                <i class="fa fa-download"></i> Download
                                            </a>
                                        </t>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Improved Appearance -->
        <div class="grid grid-cols-1 gap-6 w-full">
            <div class="space-y-2">
                <!-- Icons -->
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"></path></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><path d="M9 13v-1h6v1"></path><path d="M11 18h2"></path><path d="M12 12v6"></path></svg>
                    <!-- Add more icons here -->
                </div>

                <!-- Search Bar -->
                <div class="flex items-center space-x-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 m-0" for="search">Search</label>
                    <input class="flex h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 w-1/2" id="search" placeholder="Search...">
                </div>

                <!-- Select All & Download Button -->
                <div class="grid grid-cols-2 items-center text-sm">
                    <!-- Select All -->
                    <div class="flex items-center space-x-1">
                        <button type="button" role="checkbox" aria-checked="false" data-state="unchecked" value="on" class="peer h-4 w-4 shrink-0 border ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground rounded border-gray-300" id="select-all"></button>
                        <input aria-hidden="true" tabindex="-1" type="checkbox" value="on" style="transform: translateX(-100%); position: absolute; pointer-events: none; opacity: 0; margin: 0px;">
                        <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 m-0" for="select-all">Select all</label>
                    </div>
                    <!-- Download Button -->
                    <div class="flex items-center space-x-1 justify-self-end">
                        <span class="font-semibold">2 items selected</span>
                        <button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3">
                            Download 
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 h-4 w-4">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" x2="12" y1="15" y2="3"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Horizontal Separator -->
            <div data-orientation="horizontal" role="none" class="shrink-0 bg-gray-100 h-[1px] w-full"></div>

            <!-- List of Files -->
            <div class="grid grid-cols-1 gap-2">
                <!-- Sample files, you can replace these with dynamic content -->
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"></path></svg>
                    <span>My Documents</span>
                </div>
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
                    <span>Image.jpg</span>
                </div>
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
                    <span>Another Image.jpg</span>
                </div>
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path></svg>
                    <span>Document.pdf</span>
                </div>
            </div>
        </div>
    </t>
</template>


<template id="cloud_storage_search_template" name="Search Results">
        <t t-call="web.layout">
            <div class="oe_structure"/>
            <div class="container">
                <h2>Search Results for "<t t-esc="query"/>":</h2>
                <div class="mt-2">
                    <t t-foreach="search_results" t-as="result">
                        <div class="mb-2">
                            <i class="fa fa-file" aria-hidden="true"></i>
                            <a t-attf-href="/cloud/storage/download/{{ result }}">{{ result.split('/')[-1] }}</a>
                        </div>
                    </t>
                    <t t-if="not search_results">
                        <p>No files found matching your query.</p>
                    </t>
                </div>
            </div>
        </t>
    </template>


</odoo>
