<odoo>
    <template id="cloud_storage_template" name="Cloud Storage">
        <t t-call="website.layout">
            
            <style>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    .navigation {
            display: flex;
            justify-content: flex-start;
            margin-bottom: 20px;
        }

        /* Estilos para botones de navegación */
        .back-btn, .home-btn {
            cursor: pointer;
            background: #ddd;
            border: none;
            padding: 5px 10px;
            margin-right: 5px;
            text-decoration: none;
            color: #000;
        }

        .back-btn:hover, .home-btn:hover {
            background: #ccc;
        }

        /* Estilos para la barra de búsqueda */
        .cloud-storage-search {
            display: flex;
            margin-bottom: 20px;
        }

        .cloud-search-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-right: none;
        }

        /* Estilos para botón de búsqueda */
        .btn-primary {
            padding: 10px;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }

        .btn-primary:hover {
            background: #0056b3;
        }

        /* Estilos para la lista de archivos y carpetas */
        .cloud-storage-content {
            border-collapse: collapse;
            width: 100%;
        }

        /* Estilos para entradas de archivos y carpetas */
        .file-dir-entry {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        /* Estilos para íconos de carpetas y archivos */
        .fa-folder, .fa-file {
            margin-right: 10px;
            color: #fdd835; /* Amarillo para carpetas */
        }

        /* Estilos específicos para archivos Excel */
        .icon-excel {
            color: #207245; /* Verde para archivos Excel */
        }

        /* Estilos para botón de descarga */
        .download-btn {
            margin-left: auto;
            cursor: pointer;
            background: transparent;
            border: none;
            color: #007bff;
        }

        .download-btn:hover {
            color: #0056b3;
        }

            </style>
            <div id="cloud_storage_wrapper" class="oe_structure file-manager">
                <!-- Barra de navegación con estilos actualizados -->
                <div class="navigation">
                    <t t-if="current_path">
                        <!-- Botones con clases actualizadas para aplicar nuevos estilos -->
                        <a t-if="current_path" href="/cloud/storage" class="back-btn">&#8592; Raíz</a>
                        <a t-if="current_path" t-att-href="'/cloud/storage/' + '/'.join(current_path.split('/')[:-1])" class="back-btn">&#8592; Atrás</a>
                    </t>
                </div>
                
                <!-- Búsqueda y listado de archivos con estilos actualizados -->
                <div class="cloud-storage-search">
                    <form method="get" action="/cloud/storage/search">
                        <input type="text" name="query" class="cloud-search-input" placeholder="Buscar carpeta o archivo..." t-att-value="request.params.get('query', '')"/>
                        <!-- Botón con clases actualizadas para aplicar nuevos estilos -->
                        <button type="submit" class="search-btn">Buscar</button>
                        <!-- Asegúrate de que los estilos de este botón sean consistentes con los demás botones -->
                        <a href="/cloud/storage" class="btn clear-btn">Limpiar</a>
                    </form>
                </div>
                
                <!-- Contenido de almacenamiento de archivos con estilos actualizados -->
                <div class="cloud-storage-content">
                    <t t-foreach="files_dirs" t-as="file_dir">
                        <div class="file-dir-entry">
                            <t t-if="file_dir['is_dir']">
                                <!-- Ícono de carpeta con clase de Font Awesome -->
                                <i class="fa fa-folder folder-icon"></i>
                                <a t-att-href="'/cloud/storage/' + file_dir['path']" class="file-name">
                                    <t t-esc="file_dir['name']"/>
                                </a>
                            </t>
                            <t t-else="">
                                <!-- Ícono de archivo con clase dinámica basada en la extensión del archivo -->
                                <i t-att-class="'fa ' + get_icon_class(file_dir['name']) + ' file-icon'"></i>
                                <span class="file-name" t-esc="file_dir['name']"/>
                                <!-- Botón de descarga con clases actualizadas para aplicar nuevos estilos -->
                                <a t-att-href="'/cloud/storage/download/' + file_dir['path']" class="download-btn">Descargar</a>
                            </t>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>
</odoo>
