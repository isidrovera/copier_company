<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- ============================================ -->
        <!-- HEADER MODERNO COMPLETO - COPIER COMPANY -->
        <!-- ============================================ -->
        
        <template id="header_modern_complete" name="Modern Complete Header" inherit_id="website.layout">
            <xpath expr="//header" position="replace">
                <header id="modern-complete-header" class="o_header_standard">
                    <style>
                        /* Estilos inline para el header completo */
                        #modern-complete-header {
                            position: sticky;
                            top: 0;
                            z-index: 1050;
                            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
                            background: white;
                        }
                        
                        /* Top Bar */
                        .top-info-bar {
                            background: linear-gradient(90deg, #0d6efd 0%, #6610f2 100%);
                            color: white;
                            font-size: 0.875rem;
                            padding: 0.5rem 0;
                        }
                        
                        .top-info-bar a {
                            color: white;
                            text-decoration: none;
                            transition: opacity 0.2s;
                        }
                        
                        .top-info-bar a:hover {
                            opacity: 0.8;
                        }
                        
                        /* Main Navigation */
                        .main-nav {
                            padding: 0.75rem 0;
                        }
                        
                        .logo-section img {
                            max-height: 50px;
                            transition: transform 0.3s;
                        }
                        
                        .logo-section:hover img {
                            transform: scale(1.05);
                        }
                        
                        /* Search Bar Moderna */
                        .modern-search {
                            position: relative;
                            max-width: 500px;
                            flex-grow: 1;
                        }
                        
                        .modern-search input {
                            border-radius: 25px;
                            padding: 0.5rem 1rem 0.5rem 2.5rem;
                            border: 2px solid #e9ecef;
                            transition: all 0.3s;
                        }
                        
                        .modern-search input:focus {
                            border-color: #0d6efd;
                            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
                            outline: none;
                        }
                        
                        .modern-search .search-icon {
                            position: absolute;
                            left: 1rem;
                            top: 50%;
                            transform: translateY(-50%);
                            color: #6c757d;
                        }
                        
                        /* Menu Links */
                        .menu-links {
                            display: flex;
                            gap: 0.5rem;
                            align-items: center;
                            flex-wrap: wrap;
                        }
                        
                        .menu-links .nav-link {
                            padding: 0.5rem 1rem;
                            color: #495057;
                            font-weight: 500;
                            border-radius: 8px;
                            transition: all 0.3s;
                            text-decoration: none;
                            white-space: nowrap;
                        }
                        
                        .menu-links .nav-link:hover {
                            background: rgba(13, 110, 253, 0.1);
                            color: #0d6efd;
                        }
                        
                        .menu-links .nav-link.active {
                            background: #0d6efd;
                            color: white;
                        }
                        
                        /* Right Actions */
                        .header-actions {
                            display: flex;
                            gap: 0.75rem;
                            align-items: center;
                        }
                        
                        /* Cart Badge */
                        .cart-icon {
                            position: relative;
                            padding: 0.5rem;
                            border-radius: 8px;
                            transition: all 0.3s;
                        }
                        
                        .cart-icon:hover {
                            background: rgba(13, 110, 253, 0.1);
                        }
                        
                        .cart-badge {
                            position: absolute;
                            top: 0;
                            right: 0;
                            background: #dc3545;
                            color: white;
                            border-radius: 50%;
                            width: 20px;
                            height: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 0.7rem;
                            font-weight: bold;
                        }
                        
                        /* User Menu */
                        .user-menu-btn {
                            padding: 0.5rem 1rem;
                            border-radius: 8px;
                            border: 2px solid #e9ecef;
                            background: white;
                            transition: all 0.3s;
                            cursor: pointer;
                        }
                        
                        .user-menu-btn:hover {
                            border-color: #0d6efd;
                            background: rgba(13, 110, 253, 0.05);
                        }
                        
                        /* Dropdown Menus */
                        .dropdown-menu {
                            border: none;
                            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                            border-radius: 10px;
                            padding: 0.5rem;
                            margin-top: 0.5rem;
                        }
                        
                        .dropdown-item {
                            padding: 0.75rem 1rem;
                            border-radius: 6px;
                            transition: all 0.2s;
                        }
                        
                        .dropdown-item:hover {
                            background: rgba(13, 110, 253, 0.1);
                            color: #0d6efd;
                        }
                        
                        .dropdown-divider {
                            margin: 0.5rem 0;
                            opacity: 0.1;
                        }
                        
                        /* Mobile Menu Toggle */
                        .mobile-menu-toggle {
                            display: none;
                            padding: 0.5rem;
                            border: none;
                            background: transparent;
                            font-size: 1.5rem;
                        }
                        
                        /* Edit Mode Banner */
                        .edit-mode-banner {
                            background: linear-gradient(90deg, #dc3545 0%, #fd7e14 100%);
                            color: white;
                            padding: 0.5rem;
                            text-align: center;
                            font-weight: 500;
                        }
                        
                        /* Responsive */
                        @media (max-width: 991px) {
                            .menu-links {
                                display: none;
                            }
                            
                            .mobile-menu-toggle {
                                display: block;
                            }
                            
                            .modern-search {
                                max-width: 100%;
                            }
                        }
                        
                        @media (max-width: 767px) {
                            .top-info-bar {
                                font-size: 0.75rem;
                            }
                            
                            .header-actions {
                                gap: 0.5rem;
                            }
                            
                            .logo-section img {
                                max-height: 40px;
                            }
                        }
                    </style>

                    <!-- Edit Mode Banner (Solo visible para administradores) -->
                    <t t-if="request.env.user.has_group('website.group_website_designer')">
                        <div class="edit-mode-banner d-flex justify-content-between align-items-center px-3">
                            <span>
                                <i class="bi bi-pencil-square me-2"></i>
                                Modo Edición Activo
                            </span>
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-light" onclick="window.location.reload()">
                                    <i class="bi bi-arrow-clockwise me-1"></i> Actualizar
                                </button>
                                <a href="/web" class="btn btn-sm btn-light">
                                    <i class="bi bi-speedometer2 me-1"></i> Backend
                                </a>
                            </div>
                        </div>
                    </t>

                    <!-- Top Info Bar -->
                    <div class="top-info-bar d-none d-md-block">
                        <div class="container-fluid">
                            <div class="row align-items-center">
                                <div class="col-md-6">
                                    <div class="d-flex gap-3 small">
                                        <a href="tel:+51975399303">
                                            <i class="bi bi-telephone-fill me-1"></i>
                                            +51 975399303
                                        </a>
                                        <a href="mailto:info@copiercompany.com">
                                            <i class="bi bi-envelope-fill me-1"></i>
                                            info@copiercompany.com
                                        </a>
                                        <span>
                                            <i class="bi bi-clock me-1"></i>
                                            Lun-Vie 8:00-18:00
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-6 text-end">
                                    <div class="d-flex justify-content-end gap-3">
                                        <a href="https://wa.me/51975399303" target="_blank">
                                            <i class="bi bi-whatsapp me-1"></i>
                                            WhatsApp
                                        </a>
                                        <a href="/contactus">
                                            <i class="bi bi-envelope me-1"></i>
                                            Contáctenos
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Navigation -->
                    <nav class="main-nav">
                        <div class="container-fluid">
                            <div class="row align-items-center g-3">
                                <!-- Logo -->
                                <div class="col-lg-2 col-6">
                                    <a href="/" class="logo-section d-block">
                                        <img t-attf-src="/web/image/website/#{request.website.id}/logo" 
                                             alt="Copier Company" 
                                             class="img-fluid"/>
                                    </a>
                                </div>

                                <!-- Search Bar -->
                                <div class="col-lg-4 d-none d-lg-block">
                                    <div class="modern-search">
                                        <i class="bi bi-search search-icon"></i>
                                        <input type="text" 
                                               class="form-control" 
                                               placeholder="Buscar productos, servicios..."
                                               id="mainSearch"/>
                                    </div>
                                </div>

                                <!-- Navigation Links -->
                                <div class="col-lg-4 d-none d-lg-block">
                                    <div class="menu-links justify-content-center">
                                        <a href="/" class="nav-link" t-att-class="'active' if request.httprequest.path == '/' else ''">
                                            <i class="bi bi-house-door me-1"></i>
                                            Inicio
                                        </a>
                                        <a href="/shop" class="nav-link" t-att-class="'active' if '/shop' in request.httprequest.path else ''">
                                            <i class="bi bi-shop me-1"></i>
                                            Tienda
                                        </a>
                                        <a href="/our-services" class="nav-link">
                                            <i class="bi bi-gear me-1"></i>
                                            Servicios
                                        </a>
                                        
                                        <!-- Dropdown Más -->
                                        <div class="dropdown">
                                            <button class="nav-link dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                                Más
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="/descargas">
                                                    <i class="bi bi-download me-2"></i>Descargas
                                                </a></li>
                                                <li><a class="dropdown-item" href="/about-us">
                                                    <i class="bi bi-people me-2"></i>Sobre nosotros
                                                </a></li>
                                                <li><a class="dropdown-item" href="/ayuda">
                                                    <i class="bi bi-question-circle me-2"></i>Ayuda
                                                </a></li>
                                                <li><hr class="dropdown-divider"/></li>
                                                <li><a class="dropdown-item" href="https://app.printtrackerpro.com/auth/login" target="_blank">
                                                    <i class="bi bi-box-arrow-up-right me-2"></i>Portal MPS
                                                </a></li>
                                                <li><a class="dropdown-item" href="/foro">
                                                    <i class="bi bi-chat-square-text me-2"></i>Foro
                                                </a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Actions -->
                                <div class="col-lg-2 col-6">
                                    <div class="header-actions justify-content-end">
                                        <!-- Cart -->
                                        <a href="/shop/cart" class="cart-icon text-decoration-none text-dark">
                                            <i class="bi bi-cart3 fs-4"></i>
                                            <span class="cart-badge" t-if="website_sale_order and website_sale_order.cart_quantity > 0">
                                                <t t-esc="website_sale_order.cart_quantity"/>
                                            </span>
                                        </a>

                                        <!-- User Menu -->
                                        <t t-if="not request.env.user._is_public()">
                                            <div class="dropdown">
                                                <button class="user-menu-btn dropdown-toggle d-flex align-items-center gap-2" type="button" data-bs-toggle="dropdown">
                                                    <i class="bi bi-person-circle fs-5"></i>
                                                    <span class="d-none d-md-inline">
                                                        <t t-esc="request.env.user.name"/>
                                                    </span>
                                                </button>
                                                <ul class="dropdown-menu dropdown-menu-end">
                                                    <li>
                                                        <a class="dropdown-item" href="/my/home">
                                                            <i class="bi bi-person me-2"></i>
                                                            Mi Cuenta
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="dropdown-item" href="/my/orders">
                                                            <i class="bi bi-bag-check me-2"></i>
                                                            Mis Pedidos
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="dropdown-item" href="/my/quotes">
                                                            <i class="bi bi-file-earmark-text me-2"></i>
                                                            Mis Cotizaciones
                                                        </a>
                                                    </li>
                                                    <li><hr class="dropdown-divider"/></li>
                                                    <li>
                                                        <a class="dropdown-item text-danger" href="/web/session/logout?redirect=/">
                                                            <i class="bi bi-box-arrow-right me-2"></i>
                                                            Cerrar Sesión
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </t>
                                        <t t-else="">
                                            <a href="/web/login" class="btn btn-primary btn-sm">
                                                <i class="bi bi-person-plus me-1"></i>
                                                Iniciar Sesión
                                            </a>
                                        </t>

                                        <!-- Mobile Menu Toggle -->
                                        <button class="mobile-menu-toggle" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu">
                                            <i class="bi bi-list"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Mobile Search -->
                            <div class="row d-lg-none mt-3">
                                <div class="col-12">
                                    <div class="modern-search">
                                        <i class="bi bi-search search-icon"></i>
                                        <input type="text" 
                                               class="form-control" 
                                               placeholder="Buscar..."
                                               id="mobileSearch"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>

                    <!-- Quick Access Bar (Opcional - Accesos rápidos) -->
                    <div class="quick-access-bar bg-light py-2 d-none d-lg-block">
                        <div class="container-fluid">
                            <div class="d-flex justify-content-center gap-3 small">
                                <a href="/cotizacion/form" class="text-decoration-none text-primary">
                                    <i class="bi bi-calculator me-1"></i>
                                    Cotización Gratis
                                </a>
                                <span class="text-muted">|</span>
                                <a href="/our-services" class="text-decoration-none text-success">
                                    <i class="bi bi-headset me-1"></i>
                                    Soporte 24/7
                                </a>
                                <span class="text-muted">|</span>
                                <a href="/shop" class="text-decoration-none text-warning">
                                    <i class="bi bi-star-fill me-1"></i>
                                    Ofertas Especiales
                                </a>
                                <span class="text-muted">|</span>
                                <a href="https://app.printtrackerpro.com" target="_blank" class="text-decoration-none text-info">
                                    <i class="bi bi-graph-up me-1"></i>
                                    Portal MPS
                                </a>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Mobile Offcanvas Menu -->
                <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu">
                    <div class="offcanvas-header bg-primary text-white">
                        <h5 class="offcanvas-title">
                            <i class="bi bi-grid-3x3-gap me-2"></i>
                            Menú Principal
                        </h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
                    </div>
                    <div class="offcanvas-body p-0">
                        <!-- User Info Mobile -->
                        <t t-if="not request.env.user._is_public()">
                            <div class="bg-light p-3 border-bottom">
                                <div class="d-flex align-items-center gap-2">
                                    <i class="bi bi-person-circle fs-3 text-primary"></i>
                                    <div>
                                        <strong><t t-esc="request.env.user.name"/></strong>
                                        <br/>
                                        <small class="text-muted"><t t-esc="request.env.user.email"/></small>
                                    </div>
                                </div>
                            </div>
                        </t>

                        <!-- Mobile Navigation -->
                        <div class="list-group list-group-flush">
                            <a href="/" class="list-group-item list-group-item-action">
                                <i class="bi bi-house-door me-3"></i>Inicio
                            </a>
                            <a href="/shop" class="list-group-item list-group-item-action">
                                <i class="bi bi-shop me-3"></i>Tienda
                            </a>
                            <a href="/our-services" class="list-group-item list-group-item-action">
                                <i class="bi bi-gear me-3"></i>Servicios
                            </a>
                            <a href="/descargas" class="list-group-item list-group-item-action">
                                <i class="bi bi-download me-3"></i>Descargas
                            </a>
                            <a href="/about-us" class="list-group-item list-group-item-action">
                                <i class="bi bi-people me-3"></i>Sobre Nosotros
                            </a>
                            <a href="/ayuda" class="list-group-item list-group-item-action">
                                <i class="bi bi-question-circle me-3"></i>Ayuda
                            </a>
                            <a href="/contactus" class="list-group-item list-group-item-action">
                                <i class="bi bi-envelope me-3"></i>Contáctenos
                            </a>
                            <a href="https://app.printtrackerpro.com" target="_blank" class="list-group-item list-group-item-action">
                                <i class="bi bi-box-arrow-up-right me-3"></i>Portal MPS
                            </a>
                            <a href="/foro" class="list-group-item list-group-item-action">
                                <i class="bi bi-chat-square-text me-3"></i>Foro
                            </a>
                        </div>

                        <!-- Mobile Actions -->
                        <div class="p-3 bg-light mt-auto">
                            <t t-if="not request.env.user._is_public()">
                                <a href="/my/home" class="btn btn-primary w-100 mb-2">
                                    <i class="bi bi-person me-2"></i>Mi Cuenta
                                </a>
                                <a href="/web/session/logout?redirect=/" class="btn btn-outline-danger w-100">
                                    <i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión
                                </a>
                            </t>
                            <t t-else="">
                                <a href="/web/login" class="btn btn-primary w-100 mb-2">
                                    <i class="bi bi-person-plus me-2"></i>Iniciar Sesión
                                </a>
                                <a href="/web/signup" class="btn btn-outline-primary w-100">
                                    <i class="bi bi-person-plus me-2"></i>Registrarse
                                </a>
                            </t>
                            
                            <hr class="my-3"/>
                            
                            <a href="/cotizacion/form" class="btn btn-warning w-100 mb-2">
                                <i class="bi bi-calculator me-2"></i>Solicitar Cotización
                            </a>
                            <a href="https://wa.me/51975399303" target="_blank" class="btn btn-success w-100">
                                <i class="bi bi-whatsapp me-2"></i>Chat WhatsApp
                            </a>
                        </div>
                    </div>
                </div>
            </xpath>
        </template>
    </data>
</odoo>