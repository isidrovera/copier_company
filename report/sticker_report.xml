<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Formato de papel A6 optimizado para sticker 8x8cm -->
        <record id="paperformat_sticker_8x8" model="report.paperformat">
            <field name="name">Sticker 8x8cm - A6 Premium</field>
            <field name="format">A6</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">3</field>
            <field name="margin_bottom">3</field>
            <field name="margin_left">3</field>
            <field name="margin_right">3</field>
            <field name="header_line" eval="False"/>
            <field name="dpi">300</field>
            <field name="header_spacing">0</field>
        </record>

        <!-- Reporte optimizado para Odoo 18 -->
        <record id="action_report_sticker_8x8" model="ir.actions.report">
            <field name="name">Sticker Corporativo 8x8cm Premium</field>
            <field name="model">copier.company</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">copier_company.sticker_8x8_template</field>
            <field name="report_file">copier_company.sticker_8x8_template</field>
            <field name="print_report_name">'Sticker-Premium-8x8-%s' % (object.name.name if object.name else 'Sin-nombre')</field>
            <field name="binding_model_id" ref="model_copier_company"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="paperformat_sticker_8x8"/>
        </record>

        <!-- Template modernizado para Odoo 18 -->
        <template id="sticker_8x8_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="web.basic_layout">
                        <div class="page">
                            <style>
                                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&amp;display=swap');
                                
                                * {
                                    margin: 0;
                                    padding: 0;
                                    box-sizing: border-box;
                                }
                                
                                html, body {
                                    width: 10.5cm;
                                    height: 14.8cm;
                                    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                                    background: #fafbfc;
                                    margin: 0;
                                    padding: 0;
                                    -webkit-font-smoothing: antialiased;
                                    -moz-osx-font-smoothing: grayscale;
                                }
                                
                                .page {
                                    width: 100%;
                                    height: 100%;
                                    min-height: 14.8cm;
                                    padding: 0.8cm;
                                    background: #fafbfc;
                                    position: relative;
                                    display: flex;
                                    flex-direction: column;
                                    align-items: center;
                                    justify-content: center;
                                }
                                
                                .sticker-container-8x8 {
                                    width: 8.5cm;
                                    height: 12cm;
                                    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
                                    border: 2px solid #e2e8f0;
                                    border-radius: 12px;
                                    padding: 0.6cm;
                                    position: relative;
                                    display: flex;
                                    flex-direction: column;
                                    justify-content: space-between;
                                    box-shadow: 
                                        0 20px 25px -5px rgba(0, 0, 0, 0.1),
                                        0 10px 10px -5px rgba(0, 0, 0, 0.04),
                                        inset 0 1px 0 rgba(255, 255, 255, 0.6);
                                    overflow: hidden;
                                    margin-bottom: 1cm;
                                }
                                
                                .sticker-container-8x8::before {
                                    content: '';
                                    position: absolute;
                                    top: 0;
                                    left: 0;
                                    right: 0;
                                    height: 2px;
                                    background: linear-gradient(90deg, #3b82f6 0%, #06b6d4 50%, #8b5cf6 100%);
                                    border-radius: 12px 12px 0 0;
                                }
                                
                                .sticker-header-8x8 {
                                    text-align: center;
                                    flex-shrink: 0;
                                    margin-bottom: 0.4cm;
                                    position: relative;
                                }
                                
                                .company-logo-8x8 {
                                    max-height: 1.2cm;
                                    max-width: 4cm;
                                    object-fit: contain;
                                    margin-bottom: 0.15cm;
                                    display: block;
                                    margin-left: auto;
                                    margin-right: auto;
                                    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
                                }
                                
                                .company-name-8x8 {
                                    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #06b6d4 100%);
                                    color: white;
                                    padding: 0.25cm 0.8cm;
                                    border-radius: 8px;
                                    font-weight: 800;
                                    font-size: 11pt;
                                    letter-spacing: 0.8px;
                                    text-transform: uppercase;
                                    margin-bottom: 0.15cm;
                                    display: inline-block;
                                    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);
                                    position: relative;
                                    overflow: hidden;
                                }
                                
                                .company-name-8x8::before {
                                    content: '';
                                    position: absolute;
                                    top: 0;
                                    left: -100%;
                                    width: 100%;
                                    height: 100%;
                                    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
                                    animation: shimmer 2s infinite;
                                }
                                
                                @keyframes shimmer {
                                    0% { left: -100%; }
                                    100% { left: 100%; }
                                }
                                
                                .title-8x8 {
                                    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
                                    border: 1.5px solid #3b82f6;
                                    border-radius: 6px;
                                    padding: 0.2cm 0.4cm;
                                    color: #1e40af;
                                    font-size: 9pt;
                                    font-weight: 700;
                                    text-transform: uppercase;
                                    letter-spacing: 0.3px;
                                    margin-top: 0.15cm;
                                    display: inline-block;
                                    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.15);
                                }
                                
                                .decorative-line-8x8 {
                                    width: 85%;
                                    height: 2px;
                                    background: linear-gradient(90deg, #3b82f6 0%, #06b6d4 50%, #8b5cf6 100%);
                                    border-radius: 2px;
                                    margin: 0.15cm auto;
                                    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
                                    position: relative;
                                }
                                
                                .decorative-line-8x8::after {
                                    content: '';
                                    position: absolute;
                                    top: 50%;
                                    left: 50%;
                                    transform: translate(-50%, -50%);
                                    width: 4px;
                                    height: 4px;
                                    background: white;
                                    border-radius: 50%;
                                    box-shadow: 0 0 0 1px #3b82f6;
                                }
                                
                                .equipment-section-8x8 {
                                    flex-shrink: 0;
                                    margin-bottom: 0.4cm;
                                    display: grid;
                                    grid-template-columns: 1fr 1fr;
                                    gap: 0.3cm;
                                }
                                
                                .info-item-8x8 {
                                    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                                    border: 1px solid #e2e8f0;
                                    border-left: 3px solid #3b82f6;
                                    padding: 0.25cm 0.3cm;
                                    border-radius: 6px;
                                    text-align: center;
                                    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
                                    position: relative;
                                    overflow: hidden;
                                }
                                
                                .info-item-8x8::before {
                                    content: '';
                                    position: absolute;
                                    top: 0;
                                    left: 0;
                                    right: 0;
                                    height: 1px;
                                    background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.3), transparent);
                                }
                                
                                .info-label-8x8 {
                                    font-size: 8pt;
                                    font-weight: 700;
                                    color: #475569;
                                    text-transform: uppercase;
                                    letter-spacing: 0.3px;
                                    margin-bottom: 0.08cm;
                                    display: block;
                                }
                                
                                .info-value-8x8 {
                                    font-size: 10pt;
                                    color: #1e293b;
                                    font-weight: 600;
                                    line-height: 1.1;
                                    word-break: break-word;
                                }
                                
                                .qr-section-8x8 {
                                    flex: 1;
                                    display: flex;
                                    flex-direction: column;
                                    align-items: center;
                                    justify-content: center;
                                    text-align: center;
                                    margin: 0.3cm 0;
                                    background: linear-gradient(135deg, #fef7f0 0%, #fed7aa 100%);
                                    border-radius: 8px;
                                    padding: 0.4cm;
                                    border: 1px solid #fdba74;
                                }
                                
                                .qr-label-8x8 {
                                    font-size: 10pt;
                                    font-weight: 800;
                                    color: #dc2626;
                                    text-transform: uppercase;
                                    letter-spacing: 0.3px;
                                    margin-bottom: 0.15cm;
                                    display: flex;
                                    align-items: center;
                                    gap: 0.15cm;
                                }
                                
                                .qr-description-8x8 {
                                    font-size: 8pt;
                                    color: #7c2d12;
                                    font-weight: 600;
                                    line-height: 1.3;
                                    margin-bottom: 0.3cm;
                                }
                                
                                .qr-container-8x8 {
                                    width: 3.5cm;
                                    height: 3.5cm;
                                    background: white;
                                    border-radius: 8px;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    padding: 0.15cm;
                                    box-shadow: 
                                        0 4px 6px -1px rgba(0, 0, 0, 0.1),
                                        0 2px 4px -1px rgba(0, 0, 0, 0.06);
                                    position: relative;
                                    border: 2px solid #f3f4f6;
                                }
                                
                                .qr-container-8x8::before {
                                    content: '';
                                    position: absolute;
                                    inset: -2px;
                                    background: linear-gradient(45deg, #3b82f6, #06b6d4, #8b5cf6, #ec4899);
                                    border-radius: 10px;
                                    z-index: -1;
                                    animation: rotate 3s linear infinite;
                                }
                                
                                @keyframes rotate {
                                    0% { transform: rotate(0deg); }
                                    100% { transform: rotate(360deg); }
                                }
                                
                                .qr-image-8x8 {
                                    width: 100%;
                                    height: 100%;
                                    object-fit: contain;
                                    border-radius: 4px;
                                }
                                
                                .contact-section-8x8 {
                                    flex-shrink: 0;
                                    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
                                    border-radius: 8px;
                                    padding: 0.4cm;
                                    border: 1px solid #bae6fd;
                                }
                                
                                .contact-title-8x8 {
                                    font-size: 9pt;
                                    font-weight: 800;
                                    color: #0c4a6e;
                                    text-transform: uppercase;
                                    text-align: center;
                                    margin-bottom: 0.2cm;
                                    position: relative;
                                    letter-spacing: 0.2px;
                                }
                                
                                .contact-title-8x8::after {
                                    content: '';
                                    position: absolute;
                                    bottom: -0.08cm;
                                    left: 50%;
                                    transform: translateX(-50%);
                                    width: 3cm;
                                    height: 1px;
                                    background: linear-gradient(90deg, transparent, #0ea5e9, transparent);
                                    border-radius: 1px;
                                }
                                
                                .contact-subtitle-8x8 {
                                    font-size: 7pt;
                                    color: #075985;
                                    font-weight: 500;
                                    text-align: center;
                                    margin-bottom: 0.25cm;
                                    font-style: italic;
                                    line-height: 1.3;
                                }
                                
                                .contact-grid-8x8 {
                                    display: flex;
                                    flex-direction: column;
                                    gap: 0.15cm;
                                    align-items: center;
                                }
                                
                                .contact-item-8x8 {
                                    background: white;
                                    border: 1px solid #0ea5e9;
                                    border-radius: 4px;
                                    padding: 0.1cm 0.2cm;
                                    text-align: center;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    gap: 0.15cm;
                                    font-size: 7pt;
                                    white-space: nowrap;
                                    max-width: 7.5cm;
                                    box-shadow: 0 1px 3px rgba(14, 165, 233, 0.1);
                                    transition: all 0.2s ease;
                                }
                                
                                .contact-item-8x8:hover {
                                    transform: translateY(-1px);
                                    box-shadow: 0 4px 8px rgba(14, 165, 233, 0.2);
                                }
                                
                                .contact-type-8x8 {
                                    color: #0c4a6e;
                                    font-weight: 700;
                                    text-transform: uppercase;
                                    letter-spacing: 0.1px;
                                    font-size: 6.5pt;
                                }
                                
                                .contact-value-8x8 {
                                    color: #1e293b;
                                    font-weight: 600;
                                    font-size: 7pt;
                                }
                                
                                .cut-instructions-8x8 {
                                    text-align: center;
                                    font-size: 8pt;
                                    color: #64748b;
                                    font-weight: 500;
                                    line-height: 1.3;
                                    background: rgba(248, 250, 252, 0.9);
                                    padding: 0.15cm 0.3cm;
                                    border-radius: 6px;
                                    border: 1px dashed #cbd5e1;
                                    margin-top: 0.5cm;
                                }
                                
                                /* Estilos para impresi贸n */
                                @page {
                                    size: A6 portrait;
                                    margin: 3mm;
                                }
                                
                                @media print {
                                    html, body {
                                        width: 10.5cm;
                                        height: 14.8cm;
                                        margin: 0;
                                        padding: 0;
                                        background: white !important;
                                    }
                                    
                                    .page {
                                        padding: 0.8cm;
                                        width: 100%;
                                        height: 100%;
                                        min-height: 14.8cm;
                                        margin: 0;
                                        background: white !important;
                                    }
                                    
                                    .sticker-container-8x8 {
                                        border: 2px dashed #3b82f6 !important;
                                        box-shadow: none !important;
                                        margin: 0 auto;
                                        background: white !important;
                                        width: 8.5cm;
                                        height: 12cm;
                                    }
                                    
                                    * {
                                        -webkit-print-color-adjust: exact !important;
                                        color-adjust: exact !important;
                                        print-color-adjust: exact !important;
                                    }
                                    
                                    .qr-container-8x8::before,
                                    .company-name-8x8::before {
                                        display: none !important;
                                    }
                                    
                                    /* Asegurar que los gradientes se impriman */
                                    .company-name-8x8,
                                    .title-8x8,
                                    .decorative-line-8x8,
                                    .info-item-8x8,
                                    .qr-section-8x8,
                                    .contact-section-8x8 {
                                        -webkit-print-color-adjust: exact !important;
                                    }
                                }webkit-print-color-adjust: exact !important;
                                        color-adjust: exact !important;
                                        print-color-adjust: exact !important;
                                    }
                                    
                                    .qr-container-8x8::before,
                                    .company-name-8x8::before {
                                        display: none !important;
                                    }
                                    
                                    /* Asegurar que los gradientes se impriman */
                                    .company-name-8x8,
                                    .title-8x8,
                                    .decorative-line-8x8,
                                    .info-item-8x8,
                                    .qr-section-8x8,
                                    .contact-section-8x8 {
                                        -webkit-print-color-adjust: exact !important;
                                    }
                                }
                                
                                /* Mejoras para alta resoluci贸n */
                                @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
                                    .qr-image-8x8 {
                                        image-rendering: -webkit-optimize-contrast;
                                        image-rendering: crisp-edges;
                                    }
                                    
                                    .company-logo-8x8 {
                                        image-rendering: -webkit-optimize-contrast;
                                    }
                                }
                            </style>
                            
                            <!-- Generar QR si no existe -->
                            <t t-if="not doc.qr_code">
                                <t t-set="dummy" t-value="doc.generar_qr_code()"/>
                            </t>
                            
                            <!-- Contenedor del sticker 8x8cm modernizado -->
                            <div class="sticker-container-8x8">
                                
                                <!-- Header con logo modernizado -->
                                <div class="sticker-header-8x8">
                                    <t t-set="company" t-value="request.env.company"/>
                                    <t t-if="company and company.logo">
                                        <img t-att-src="'data:image/png;base64,%s' % company.logo.decode('utf-8')" 
                                             class="company-logo-8x8" alt="Logo Corporativo"/>
                                    </t>
                                    <t t-else="">
                                        <div class="company-name-8x8">COPIER COMPANY</div>
                                    </t>
                                    <div class="title-8x8">ALQUILER DE FOTOCOPIADORAS</div>
                                </div>
                                
                                <!-- L铆nea decorativa modernizada -->
                                <div class="decorative-line-8x8"></div>
                                
                                <!-- Informaci贸n del equipo con grid moderno -->
                                <div class="equipment-section-8x8">
                                    <div class="info-item-8x8">
                                        <div class="info-label-8x8">MODELO</div>
                                        <div class="info-value-8x8">
                                            <t t-if="doc.name">
                                                <t t-esc="doc.name.name"/>
                                            </t>
                                            <t t-else="">N/A</t>
                                        </div>
                                    </div>
                                    
                                    <div class="info-item-8x8">
                                        <div class="info-label-8x8">SERIE</div>
                                        <div class="info-value-8x8">
                                            <t t-esc="doc.serie_id or 'N/A'"/>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Secci贸n QR modernizada -->
                                <div class="qr-section-8x8">
                                    <div class="qr-label-8x8">
                                        <span></span> SERVICIO TCNICO
                                    </div>
                                    <div class="qr-description-8x8">Escanea para solicitar<br/>mantenimiento profesional</div>
                                    <div class="qr-container-8x8">
                                        <t t-if="doc.qr_code">
                                            <img t-att-src="'data:image/png;base64,%s' % doc.qr_code.decode('utf-8')" 
                                                 class="qr-image-8x8" alt="C贸digo QR"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="qr_url" t-value="'https://copiercompanysac.com/ticket/' + str(doc.id)"/>
                                            <img t-att-src="'/report/qr?value=' + qr_url + '&amp;width=240&amp;height=240&amp;border=2'" 
                                                 class="qr-image-8x8" alt="C贸digo QR"/>
                                        </t>
                                    </div>
                                </div>
                                
                                <!-- Informaci贸n de contacto modernizada -->
                                <div class="contact-section-8x8">
                                    <div class="contact-title-8x8">SOPORTE ESPECIALIZADO</div>
                                    <div class="contact-subtitle-8x8">Asistencia t茅cnica 路 Consultas comerciales 路 Mantenimiento</div>
                                    <div class="contact-grid-8x8">
                                        <div class="contact-item-8x8">
                                            <span class="contact-type-8x8"> EMAIL</span>
                                            <span class="contact-value-8x8">info@copiercompanysac.com</span>
                                        </div>
                                        <div class="contact-item-8x8">
                                            <span class="contact-type-8x8"> WHATSAPP</span>
                                            <span class="contact-value-8x8">+51 975 399 303</span>
                                        </div>
                                        <div class="contact-item-8x8">
                                            <span class="contact-type-8x8"> SITIO WEB</span>
                                            <span class="contact-value-8x8">copiercompanysac.com</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Instrucciones de corte modernizadas -->
                            <div class="cut-instructions-8x8">
                                <strong>STICKER CORPORATIVO PREMIUM</strong><br/>
                                Dimensiones: 8.512 cm 路 Papel A6 (105148mm)<br/>
                                 Cortar siguiendo la l铆nea punteada azul
                            </div>
                            
                        </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>