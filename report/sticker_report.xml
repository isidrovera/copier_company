<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Formato de papel A6 horizontal -->
        <record id="paperformat_sticker_8x8" model="report.paperformat">
            <field name="name">Sticker A6 Vertical</field> <!-- Renombra si quieres -->
            <field name="format">A6</field>
            <field name="orientation">Portrait</field> <!-- Cambiado de Landscape a Portrait -->
            <field name="margin_top">8</field>
            <field name="margin_bottom">8</field>
            <field name="margin_left">8</field>
            <field name="margin_right">8</field>
            <field name="header_line" eval="False"/>
            <field name="dpi">300</field>
        </record>


        <!-- Reporte b√°sico -->
        <record id="action_report_sticker_8x8" model="ir.actions.report">
            <field name="name">Sticker Corporativo B√°sico</field>
            <field name="model">copier.company</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">copier_company.sticker_8x8_template</field>
            <field name="report_file">copier_company.sticker_8x8_template</field>
            <field name="print_report_name">'Sticker-%s' % (object.name.name if object.name else 'Sin-nombre')</field>
            <field name="binding_model_id" ref="model_copier_company"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="paperformat_sticker_8x8"/>
        </record>

        <!-- Template b√°sico sin estilos complejos -->
        <template id="sticker_8x8_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="web.basic_layout">
                        <div class="page">
                            <style>
                                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap');
                                
                                @page {
                                    size: A6 portrait;
                                    margin: 8mm;
                                }

                                
                                body { 
                                    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
                                    margin: 0; 
                                    padding: 0; 
                                    font-size: 10px;
                                    line-height: 1.4;
                                    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
                                    color: #1e293b;
                                }
                                
                                .page {
                                    width: 100%;
                                    height: 100%;
                                    display: grid;
                                    grid-template-columns: 1fr 1fr;
                                    gap: 12px;
                                    padding: 8px;
                                }
                                
                                .left-section {
                                    display: flex;
                                    flex-direction: column;
                                    gap: 8px;
                                }
                                
                                .right-section {
                                    display: flex;
                                    flex-direction: column;
                                    justify-content: center;
                                    align-items: center;
                                    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
                                    border-radius: 12px;
                                    border: 2px solid #f59e0b;
                                    padding: 10px;
                                    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.15);
                                }
                                
                                .header-card {
                                    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
                                    color: white;
                                    padding: 8px;
                                    border-radius: 12px;
                                    text-align: center;
                                    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
                                    position: relative;
                                    overflow: hidden;
                                }
                                
                                .header-card::before {
                                    content: '';
                                    position: absolute;
                                    top: 0;
                                    left: -100%;
                                    width: 100%;
                                    height: 100%;
                                    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
                                    animation: shine 3s infinite;
                                }
                                
                                @keyframes shine {
                                    0% { left: -100%; }
                                    100% { left: 100%; }
                                }
                                
                                .company-logo {
                                    max-height: 500px;
                                    max-width: 1600px;
                                    margin: 0 auto 4px auto; /* centra horizontalmente */
                                    display: block;          /* necesario para centrar con margin auto */
                                    filter: brightness(0) invert(1);
                                }

                                                                
                                .company-name {
                                    font-size: 12px;
                                    font-weight: 800;
                                    letter-spacing: 1px;
                                    margin-bottom: 3px;
                                    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
                                }
                                
                                .company-title {
                                    font-size: 8px;
                                    font-weight: 600;
                                    opacity: 0.9;
                                    text-transform: uppercase;
                                    letter-spacing: 0.5px;
                                }
                                
                                .equipment-card {
                                    background: white;
                                    border: 1px solid #e2e8f0;
                                    border-left: 4px solid #0ea5e9;
                                    border-radius: 8px;
                                    padding: 8px;
                                    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
                                }
                                
                                .card-title {
                                    font-size: 9px;
                                    font-weight: 700;
                                    color: #0c4a6e;
                                    margin-bottom: 6px;
                                    display: flex;
                                    align-items: center;
                                    gap: 4px;
                                }
                                
                                .equipment-grid {
                                    display: grid;
                                    grid-template-columns: 1fr 1fr;
                                    gap: 6px;
                                }
                                
                                .equipment-item {
                                    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
                                    padding: 6px;
                                    border-radius: 6px;
                                    border: 1px solid #bae6fd;
                                }
                                
                                .equipment-label {
                                    font-size: 8px;
                                    font-weight: 700;
                                    color: #0369a1;
                                    text-transform: uppercase;
                                    letter-spacing: 0.5px;
                                    margin-bottom: 2px;
                                }
                                
                                .equipment-value {
                                    font-size: 10px;
                                    font-weight: 600;
                                    color: #1e293b;
                                    word-break: break-word;
                                }
                                
                                .contact-card {
                                    background: white;
                                    border: 1px solid #e2e8f0;
                                    border-left: 4px solid #059669;
                                    border-radius: 8px;
                                    padding: 8px;
                                    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
                                }
                                
                                .contact-grid {
                                    display: flex;
                                    flex-direction: column;
                                    gap: 4px;
                                }
                                
                                .contact-item {
                                    display: flex;
                                    align-items: center;
                                    gap: 6px;
                                    background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
                                    padding: 4px 6px;
                                    border-radius: 6px;
                                    border: 1px solid #bbf7d0;
                                }
                                
                                .contact-icon {
                                    font-size: 12px;
                                    width: 16px;
                                    text-align: center;
                                }
                                
                                .contact-label {
                                    font-size: 8px;
                                    font-weight: 700;
                                    color: #065f46;
                                    text-transform: uppercase;
                                    min-width: 40px;
                                }
                                
                                .contact-value {
                                    font-size: 9px;
                                    font-weight: 600;
                                    color: #1e293b;
                                    flex: 1;
                                }
                                
                                .qr-title {
                                    font-size: 11px;
                                    font-weight: 800;
                                    color: #dc2626;
                                    margin-bottom: 6px;
                                    text-align: center;
                                    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
                                }
                                
                                .qr-description {
                                    font-size: 8px;
                                    color: #92400e;
                                    font-weight: 600;
                                    text-align: center;
                                    margin-bottom: 8px;
                                    line-height: 1.3;
                                }
                                
                                .qr-container {
                                    background: white;
                                    border: 3px solid #dc2626;
                                    border-radius: 12px;
                                    padding: 8px;
                                    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.2);
                                    position: relative;
                                }
                                
                                .qr-container::before {
                                    content: '';
                                    position: absolute;
                                    inset: -3px;
                                    background: linear-gradient(45deg, #dc2626, #ef4444, #dc2626);
                                    border-radius: 15px;
                                    z-index: -1;
                                    animation: pulse 2s infinite;
                                }
                                
                                @keyframes pulse {
                                    0%, 100% { opacity: 1; }
                                    50% { opacity: 0.7; }
                                }
                                
                                .qr-image {
                                    width: 65px;
                                    height: 65px;
                                    object-fit: contain;
                                    display: block;
                                }
                                
                                .qr-footer {
                                    font-size: 6px;
                                    color: #92400e;
                                    text-align: center;
                                    margin-top: 6px;
                                    font-weight: 500;
                                }
                                
                                /* Efectos hover para impresi√≥n */
                                @media print {
                                    * {
                                        -webkit-print-color-adjust: exact !important;
                                        color-adjust: exact !important;
                                        print-color-adjust: exact !important;
                                    }
                                    
                                    .header-card::before,
                                    .qr-container::before {
                                        display: none;
                                    }
                                }
                            </style>
                            
                            <!-- Generar QR si no existe -->
                            <t t-if="not doc.qr_code">
                                <t t-set="dummy" t-value="doc.generar_qr_code()"/>
                            </t>
                            
                            <!-- Logo y nombre de empresa -->
                            <div class="center">
                                <t t-set="company" t-value="request.env.company"/>
                                <t t-if="company and company.logo">
                                    <img t-att-src="'data:image/png;base64,%s' % company.logo.decode('utf-8')" 
                                        class="company-logo" alt="Logo"/>

                                </t>
                                <t t-else="">
                                    <h1>COPIER COMPANY</h1>
                                </t>
                                <h2>ALQUILER DE FOTOCOPIADORAS</h2>
                            </div>
                            
                            <hr/>
                            
                            <!-- Informaci√≥n del equipo -->
                            <h3>INFORMACI√ìN DEL EQUIPO</h3>
                            <p><strong>Modelo:</strong> 
                                <t t-if="doc.name">
                                    <t t-esc="doc.name.name"/>
                                </t>
                                <t t-else="">No especificado</t>
                            </p>
                            <p><strong>Serie:</strong> 
                                <t t-esc="doc.serie_id or 'No especificada'"/>
                            </p>
                            
                            <hr/>
                            
                            <!-- Servicio t√©cnico -->
                            <h3 class="center">üîß SERVICIO T√âCNICO</h3>
                            <p class="center">Escanea el c√≥digo QR para solicitar mantenimiento o reportar problemas t√©cnicos</p>
                            
                            <!-- QR Code -->
                            <div class="center">
                                <t t-if="doc.qr_code">
                                    <img t-att-src="'data:image/png;base64,%s' % doc.qr_code.decode('utf-8')" 
                                         class="qr" alt="C√≥digo QR"/>
                                </t>
                                <t t-else="">
                                    <t t-set="qr_url" t-value="'https://copiercompanysac.com/ticket/' + str(doc.id)"/>
                                    <img t-att-src="'/report/qr?value=' + qr_url + '&amp;width=200&amp;height=200'" 
                                         class="qr" alt="C√≥digo QR"/>
                                </t>
                            </div>
                            
                            <hr/>
                            
                            <!-- Informaci√≥n de contacto -->
                            <h3>SOPORTE Y CONSULTAS</h3>
                            <p><strong>üìß Email:</strong> info@copiercompanysac.com</p>
                            <p><strong>üí¨ WhatsApp:</strong> +51 975 399 303</p>
                            <p><strong>üåê Sitio Web:</strong> copiercompanysac.com</p>
                            
                            <hr/>
                            
                            <p class="center" style="font-size: 12px; color: #666;">
                                Asistencia t√©cnica ‚Ä¢ Consultas comerciales ‚Ä¢ Mantenimiento
                            </p>
                            
                        </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>