<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Formato de papel A6 b√°sico -->
        <record id="paperformat_sticker_8x8" model="report.paperformat">
            <field name="name">Sticker A6 B√°sico</field>
            <field name="format">A6</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">10</field>
            <field name="margin_bottom">10</field>
            <field name="margin_left">10</field>
            <field name="margin_right">10</field>
            <field name="header_line" eval="False"/>
            <field name="dpi">300</field>
        </record>

        <!-- Reporte b√°sico -->
        <record id="action_report_sticker_8x8" model="ir.actions.report">
            <field name="name">Sticker Corporativo B√°sico</field>
            <field name="model">copier.company</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">copier_company.sticker_8x8_template</field>
            <field name="report_file">copier_company.sticker_8x8_template</field>
            <field name="print_report_name">'Sticker-%s' % (object.name.name if object.name else 'Sin-nombre')</field>
            <field name="binding_model_id" ref="model_copier_company"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="paperformat_sticker_8x8"/>
        </record>

        <!-- Template b√°sico sin estilos complejos -->
        <template id="sticker_8x8_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="web.basic_layout">
                        <div class="page">
                            <style>
                                body { font-family: Arial, sans-serif; margin: 0; padding: 15px; }
                                h1 { font-size: 18px; text-align: center; margin: 10px 0; }
                                h2 { font-size: 16px; text-align: center; margin: 8px 0; }
                                h3 { font-size: 14px; margin: 8px 0; }
                                p { margin: 5px 0; }
                                img { max-width: 100%; height: auto; }
                                .center { text-align: center; }
                                .logo { max-height: 50px; margin: 10px 0; }
                                .qr { max-width: 150px; max-height: 150px; margin: 10px auto; display: block; }
                                hr { margin: 15px 0; }
                            </style>
                            
                            <!-- Generar QR si no existe -->
                            <t t-if="not doc.qr_code">
                                <t t-set="dummy" t-value="doc.generar_qr_code()"/>
                            </t>
                            
                            <!-- Logo y nombre de empresa -->
                            <div class="center">
                                <t t-set="company" t-value="request.env.company"/>
                                <t t-if="company and company.logo">
                                    <img t-att-src="'data:image/png;base64,%s' % company.logo.decode('utf-8')" 
                                         class="logo" alt="Logo"/>
                                </t>
                                <t t-else="">
                                    <h1>COPIER COMPANY</h1>
                                </t>
                                <h2>ALQUILER DE FOTOCOPIADORAS</h2>
                            </div>
                            
                            <hr/>
                            
                            <!-- Informaci√≥n del equipo -->
                            <h3>INFORMACI√ìN DEL EQUIPO</h3>
                            <p><strong>Modelo:</strong> 
                                <t t-if="doc.name">
                                    <t t-esc="doc.name.name"/>
                                </t>
                                <t t-else="">No especificado</t>
                            </p>
                            <p><strong>Serie:</strong> 
                                <t t-esc="doc.serie_id or 'No especificada'"/>
                            </p>
                            
                            <hr/>
                            
                            <!-- Servicio t√©cnico -->
                            <h3 class="center">üîß SERVICIO T√âCNICO</h3>
                            <p class="center">Escanea el c√≥digo QR para solicitar mantenimiento o reportar problemas t√©cnicos</p>
                            
                            <!-- QR Code -->
                            <div class="center">
                                <t t-if="doc.qr_code">
                                    <img t-att-src="'data:image/png;base64,%s' % doc.qr_code.decode('utf-8')" 
                                         class="qr" alt="C√≥digo QR"/>
                                </t>
                                <t t-else="">
                                    <t t-set="qr_url" t-value="'https://copiercompanysac.com/ticket/' + str(doc.id)"/>
                                    <img t-att-src="'/report/qr?value=' + qr_url + '&amp;width=200&amp;height=200'" 
                                         class="qr" alt="C√≥digo QR"/>
                                </t>
                            </div>
                            
                            <hr/>
                            
                            <!-- Informaci√≥n de contacto -->
                            <h3>SOPORTE Y CONSULTAS</h3>
                            <p><strong>üìß Email:</strong> info@copiercompanysac.com</p>
                            <p><strong>üí¨ WhatsApp:</strong> +51 975 399 303</p>
                            <p><strong>üåê Sitio Web:</strong> copiercompanysac.com</p>
                            
                            <hr/>
                            
                            <p class="center" style="font-size: 12px; color: #666;">
                                Asistencia t√©cnica ‚Ä¢ Consultas comerciales ‚Ä¢ Mantenimiento
                            </p>
                            
                        </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>